## 05. 인덱스
> MySQL에서 사용 가능한 인덱스의 종류 및 특성을 알아본다.

## 5.1 디스크 읽기 방식

### 5.1.1 저장 매체

**일반적으로 서버에 사용되는 저장 매체는 아래와 같이 구분된다.**
- 내장 디스크(Internal Disk)
- DAS(Direct Attached Storage)
    - 내장 디스크 용량문제를 해결하기 위해 주로 사용하는 것으로 컴퓨터 본체와 달리 디스크만 있는 것이 특징이다.
    - 하나의 컴퓨터 본체에만 연결해서 사용할 수 있기 때문에 디스크 정보를 여러 컴퓨터가 동시에 공유하는 것이 불가능하다.
- NAS(Network Attached Storage)
- SAN(Storage Area Network)

내장 디스크와 DAS의 문제점을 동시에 해결하기 위해 주로 NAS와 SAN을 사용한다.<br>
DAS와 NAS의 가장 큰 차이는 여러 컴퓨터에서 동시에 사용할 수 있는지와 컴퓨터 본체와 연결되는 방식이다.<br>
NAS는 TCP/IP를 통해 연결된다. NAS는 동시에 여러 컴퓨터에서 공유해서 사용할 수 있는 저장매체이지만 SATA나 SAS 방식의 직접 연결보다는 속도가 매우 느리다.<br>
SAN은 DAS로 구축할 수 없는 대용량의 스토리지 공간을 제공하는 장치이다.<br>
SAN은 여러 컴퓨터에서 동시에 사용할 수 있을뿐더러 컴퓨터 본체와 광케이블로 연결되기 때문에 상당히 빠르고 안정적인 데이터

## 5.2 인덱스란?

칼럼(또는 칼럼들)의 값과 해당 레코드가 저장된 주소를 키와 값의 쌍(key-Value pair)으로 인덱스를 만들어 두는 것이다.<br>
칼럼의 값을 주어진 순서로 미리 정렬해서 보관하는 것이다.<br>
결론적으로 DBMS에서 인덱스는 데이터의 저장(INSERT, UPDATE, DELETE) 성능을 희생하고 대신 데이터의 읽기 속도를 높이는 기능이다.<br>
인덱스를 역할별로 구분하면 프라이머리 키(Primary Key)와 보조 키(Secondary Key)로 구분해 볼 수 있다.<br>

**프라이머리 키(Primary Key)**

그 레코드를 대표하는 칼럼의 값으로 만들어진 인덱스를 의미<br>
테이블에서 해당 레코드를 식별할 수 있는 기준값이 되기 때문에 우리는 이를 식별자라고도 부른다.<br>
NULL 값을 허용하지 않으며 중복을 허용하지 않는 것이 특징이다.<br>

**보조 키(Secondary Key)**

프라이머리 키를 제외한 나머지 모든 인덱스는 보조 인덱스(Secondary Index)로 분류한다.<br>
데이터 저장 방식(알고리즘)별로 구분하자면 많은 분류로 가능하겠지만, 대표적으로 B-Tree 인덱스와 Hash 인덱스로 구분할 수 있다. 최근에는 새롭게 Fractal-Tree 인덱스와 같은 알고리즘도 추가되었다.<br>

- B-Tree 인덱스는 칼럼의 값을 변형하지 않고, 원래의 값을 이용해 인덱싱하는 알고리즘이다.
- Hash 인덱스 알고리즘은 칼럼의 값으로 해시 값을 계산해서 인덱싱하는 알고리즘이다.
매우 빠른 검색을 지원한다. 하지만 값을 변형해서 인덱싱하므로, 전방(Prefix) 일치와 같이 값의 일부만 검색하고자 할 때는 사용할 수 없다.
- Fractal-Tree 알고리즘은 B-Tree 알고리즘의 단점을 보완하기 위해 고안된 알고리즘이다.
데이터가 저장되거나 삭제될 때 처리 비용을 상당히 줄일 수 있게 설계된 것이 특징이다.

### 5.3 B-Tree 인덱스 (Balanced Tree)

B-Tree는 칼럼의 원래 값을 변형시키지 않고 (값의 앞부분만 잘라서 관리하기는 함) 인덱스 구조체 내에서는 항상 정렬된 상태를 유지한다. 처리(읽고 쓰기)를 보장해준다. 하지만 그만큼 고가의 비용이 발생한다.

